<% available_airports = Airport.all.map { |airport| [airport.id, airport.name] } %>
<% available_years = Flight.all.map { |flight| flight.departure_time.year } %>
<% available_months = Flight.all.map { |flight| flight.departure_time.month} %>
<% available_days = Flight.all.map { |flight| flight.departure_time.day } %>

<%= form_with url: "/flights", method: :get do |f| %>
  <%= f.label :departure_airport_id, "Departure" %>
  <%= f.collection_select :departure_airport_id, available_airports, :first, :second %>

  <%= f.label :arrival_airport_id, "Arrival" %>
  <%= f.collection_select :arrival_airport_id, available_airports, :first, :second, {:selected => "NYC"} %>

  <%= f.label :year, "Year" %>
  <%= f.select(:year, available_years) %>

  <%= f.label :month, "Month" %>
  <%= f.select(:month, available_months) %>

  <%= f.label :day, "Day" %>
  <%= f.select(:day, available_days) %>

  <%= f.submit "Submit" %>

<% end %>